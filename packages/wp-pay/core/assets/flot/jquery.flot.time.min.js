!function(e){"use strict";var t=e.plot.saturated.floorInBase,i=function(e,t){var i=new e(t),o=i.setTime.bind(i);i.update=function(e){o(e=Math.round(1e3*e)/1e3),this.microseconds=1e3*(e-Math.floor(e))};var $=i.getTime.bind(i);return i.getTime=function(){return $()+this.microseconds/1e3},i.setTime=function(e){this.update(e)},i.getMicroseconds=function(){return this.microseconds},i.setMicroseconds=function(e){var t=$();this.update(t+e/1e3)},i.setUTCMicroseconds=function(e){this.setMicroseconds(e)},i.getUTCMicroseconds=function(){return this.getMicroseconds()},i.microseconds=null,i.microEpoch=null,i.update(t),i};function o(e,t,i,o){if("function"==typeof e.strftime)return e.strftime(t);var $,n=function(e,t){return t=""+(null==t?"0":t),1===(e=""+e).length?t+e:e},s=[],r=!1,c=e.getHours(),a=c<12;i||(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),o||(o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),$=c>12?c-12:0===c?12:c;for(var m=-1,u=0;u<t.length;++u){var d=t.charAt(u);if(!isNaN(Number(d))&&Number(d)>0)m=Number(d);else if(r){switch(d){case"a":d=""+o[e.getDay()];break;case"b":d=""+i[e.getMonth()];break;case"d":d=n(e.getDate());break;case"e":d=n(e.getDate()," ");break;case"h":case"H":d=n(c);break;case"I":d=n($);break;case"l":d=n($," ");break;case"m":d=n(e.getMonth()+1);break;case"M":d=n(e.getMinutes());break;case"q":d=""+(Math.floor(e.getMonth()/3)+1);break;case"S":d=n(e.getSeconds());break;case"s":d=""+function(e,t,i){var o,$=1e3*e+t;if(i<6&&i>0){var n=parseFloat("1e"+(i-6));o=("00000"+($=Math.round(Math.round($*n)/n))).slice(-6,-(6-i))}else o=("00000"+($=Math.round($))).slice(-6);return o}(e.getMilliseconds(),e.getMicroseconds(),m);break;case"y":d=n(e.getFullYear()%100);break;case"Y":d=""+e.getFullYear();break;case"p":d=a?"am":"pm";break;case"P":d=a?"AM":"PM";break;case"w":d=""+e.getDay()}s.push(d),r=!1}else"%"===d?r=!0:s.push(d)}return s.join("")}function $(e){function t(e,t,i,o){e[t]=function(){return i[o].apply(i,arguments)}}var i={date:e};void 0!==e.strftime&&t(i,"strftime",e,"strftime"),t(i,"getTime",e,"getTime"),t(i,"setTime",e,"setTime");for(var o=["Date","Day","FullYear","Hours","Minutes","Month","Seconds","Milliseconds","Microseconds"],$=0;$<o.length;$++)t(i,"get"+o[$],e,"getUTC"+o[$]),t(i,"set"+o[$],e,"setUTC"+o[$]);return i}function n(e,t){if(t&&"seconds"===t.timeBase?e*=1e3:"microseconds"===t.timeBase&&(e/=1e3),e>864e13?e=864e13:e<-864e13&&(e=-864e13),"browser"===t.timezone)return i(Date,e);if(!t.timezone||"utc"===t.timezone)return $(i(Date,e));if("undefined"==typeof timezoneJS||void 0===timezoneJS.Date)return $(i(Date,e));var o=i(timezoneJS.Date,e);return o.setTimezone(t.timezone),o.setTime(e),o}var s={microsecond:1e-6,millisecond:.001,second:1,minute:60,hour:3600,day:86400,month:2592e3,quarter:7776e3,year:31556951.999999996},r={microsecond:.001,millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:31556951999.999996},c={microsecond:1,millisecond:1e3,second:1e6,minute:6e7,hour:36e8,day:864e8,month:2592e9,quarter:7776e9,year:31556951999999.996},a=[[1,"microsecond"],[2,"microsecond"],[5,"microsecond"],[10,"microsecond"],[25,"microsecond"],[50,"microsecond"],[100,"microsecond"],[250,"microsecond"],[500,"microsecond"],[1,"millisecond"],[2,"millisecond"],[5,"millisecond"],[10,"millisecond"],[25,"millisecond"],[50,"millisecond"],[100,"millisecond"],[250,"millisecond"],[500,"millisecond"],[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],m=a.concat([[3,"month"],[6,"month"],[1,"year"]]),u=a.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function d(e){var i,o,$,a=e.options,d=[],l=n(e.min,a),_=0,h=a.tickSize&&"quarter"===a.tickSize[1]||a.minTickSize&&"quarter"===a.minTickSize[1]?u:m;i="seconds"===a.timeBase?s:"microseconds"===a.timeBase?c:r,null!==a.minTickSize&&void 0!==a.minTickSize&&(_="number"==typeof a.tickSize?a.tickSize:a.minTickSize[0]*i[a.minTickSize[1]]);for(var f=0;f<h.length-1&&(!(e.delta<(h[f][0]*i[h[f][1]]+h[f+1][0]*i[h[f+1][1]])/2)||!(h[f][0]*i[h[f][1]]>=_));++f);var k=h[f][0],g=h[f][1];if("year"===g){if(null!==a.minTickSize&&void 0!==a.minTickSize&&"year"===a.minTickSize[1])k=Math.floor(a.minTickSize[0]);else{var M=parseFloat("1e"+Math.floor(Math.log(e.delta/i.year)/Math.LN10)),p=e.delta/i.year/M;k=p<1.5?1:p<3?2:p<7.5?5:10,k*=M}k<1&&(k=1)}e.tickSize=a.tickSize||[k,g];var y=e.tickSize[0],T=y*i[g=e.tickSize[1]];"microsecond"===g?l.setMicroseconds(t(l.getMicroseconds(),y)):"millisecond"===g?l.setMilliseconds(t(l.getMilliseconds(),y)):"second"===g?l.setSeconds(t(l.getSeconds(),y)):"minute"===g?l.setMinutes(t(l.getMinutes(),y)):"hour"===g?l.setHours(t(l.getHours(),y)):"month"===g?l.setMonth(t(l.getMonth(),y)):"quarter"===g?l.setMonth(3*t(l.getMonth()/3,y)):"year"===g&&l.setFullYear(t(l.getFullYear(),y)),T>=i.millisecond&&l.setMicroseconds(0),T>=i.second&&l.setMilliseconds(0),T>=i.minute&&l.setSeconds(0),T>=i.hour&&l.setMinutes(0),T>=i.day&&l.setHours(0),T>=4*i.day&&l.setDate(1),T>=2*i.month&&l.setMonth(t(l.getMonth(),3)),T>=2*i.quarter&&l.setMonth(t(l.getMonth(),6)),T>=i.year&&l.setMonth(0);var v=0,S=Number.NaN;do if($=S,o=l.getTime(),d.push(S=a&&"seconds"===a.timeBase?o/1e3:a&&"microseconds"===a.timeBase?1e3*o:o),"month"===g||"quarter"===g){if(y<1){l.setDate(1);var z=l.getTime();l.setMonth(l.getMonth()+("quarter"===g?3:1));var b=l.getTime();l.setTime(S+v*i.hour+(b-z)*y),v=l.getHours(),l.setHours(0)}else l.setMonth(l.getMonth()+y*("quarter"===g?3:1))}else"year"===g?l.setFullYear(l.getFullYear()+y):"seconds"===a.timeBase?l.setTime((S+T)*1e3):"microseconds"===a.timeBase?l.setTime((S+T)/1e3):l.setTime(S+T);while(S<e.max&&S!==$);return d}e.plot.plugins.push({init:function t(i){i.hooks.processOptions.push(function(t){e.each(t.getAxes(),function(e,t){var i=t.options;if("time"===i.mode){if(t.tickGenerator=d,"tickFormatter"in i&&"function"==typeof i.tickFormatter)return;t.tickFormatter=function(e,t){var $,a,m,u=n(e,t.options);if(null!=i.timeformat)return o(u,i.timeformat,i.monthNames,i.dayNames);var d=t.options.tickSize&&"quarter"===t.options.tickSize[1]||t.options.minTickSize&&"quarter"===t.options.minTickSize[1];$="seconds"===i.timeBase?s:"microseconds"===i.timeBase?c:r;var l=t.tickSize[0]*$[t.tickSize[1]],_=t.max-t.min,h=i.twelveHourClock?" %p":"",f=i.twelveHourClock?"%I":"%H";if(a="seconds"===i.timeBase?1:"microseconds"===i.timeBase?1e6:1e3,l<$.second){var k=-Math.floor(Math.log10(l/a));String(l).indexOf("25")>-1&&k++,m="%S.%"+k+"s"}else m=l<$.minute?f+":%M:%S"+h:l<$.day?_<2*$.day?f+":%M"+h:"%b %d "+f+":%M"+h:l<$.month?"%b %d":d&&l<$.quarter||!d&&l<$.year?_<$.year?"%b":"%b %Y":d&&l<$.year?_<$.year?"Q%q":"Q%q %Y":"%Y";return o(u,m,i.monthNames,i.dayNames)}}})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null,timeBase:"seconds"},yaxis:{timeBase:"seconds"}},name:"time",version:"1.0"}),e.plot.formatDate=o,e.plot.dateGenerator=n,e.plot.dateTickGenerator=d,e.plot.makeUtcWrapper=$}(jQuery);